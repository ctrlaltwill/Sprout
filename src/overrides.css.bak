

/* ============================================================================
   Sprout theme tokens — converted to RGB/RGBA and grouped by shared colors.
   Notes:hsl(  var(--accent-h),  var(--accent-s),  var(--accent-l),  0.08) !important
   - Where values depend on Obsidian’s accent (var(--color-accent)), they cannot
     be reduced to a fixed RGB literal; those remain var()/color-mix() but with
     RGB literals for the “white” endpoint and RGB fallbacks.
   ========================================================================== */

.sprout {
  --radius: 0.65rem !important;

  /* Surfaces - using parent theme color-base variables */
  --background: var(--color-base-00) !important;
  --background-primary: var(--color-base-00) !important;
  --file-header-background-focused: var(--color-base-00) !important;
  --color-popover: var(--color-base-00) !important;
  --interactive-normal: var(--color-base-00) !important;
  --card: var(--color-base-00) !important;
  --popover: var(--color-base-00) !important;

  /* App background */
  --color-background: var(--color-base-20) !important;

  /* Sidebar surface */
  --sidebar: var(--color-base-10) !important;

  /* Text/foreground - using darkest color-base for text */
  --foreground: var(--color-base-100) !important;
  --text-color: var(--color-base-100) !important;
  --card-foreground: var(--color-base-100) !important;
  --color-card-foreground: var(--text-color) !important;
  --popover-foreground: var(--color-base-100) !important;
  --sidebar-foreground: var(--color-base-100) !important;

  /* Primary brand (light: rgb(94,165,0); dark: rgb(94,165,0)) */
  --primary: rgb(94, 165, 0) !important;
  --sidebar-primary: rgb(94, 165, 0) !important;

  /* Primary contrast (light & dark: rgb(247,254,231)) */
  --primary-foreground: rgb(247, 254, 231) !important;
  --sidebar-primary-foreground: rgb(247, 254, 231) !important;

  /* Secondary / muted surfaces */
  --secondary: var(--color-base-10) !important;
  --muted: var(--color-base-10) !important;

  /* Secondary text */
  --secondary-foreground: var(--color-base-100) !important;
  --accent-foreground: var(--color-base-100) !important;
  --sidebar-accent-foreground: var(--color-base-100) !important;

  /* Muted text - using mid-gray */
  --muted-foreground: var(--color-base-50) !important;

  /* Destructive (light: rgb(231,0,11); dark: rgb(255,100,103)) */
  --destructive: rgb(231, 0, 11) !important;

  /* Borders/inputs - using lighter gray from color scale */
  --border: var(--color-base-30) !important;
  --background-modifier-border: var(--color-base-30) !important;
  --color-border: var(--color-base-30) !important;
  --input: var(--color-base-30) !important;

  /* Ring/focus (light: rgb(154,230,0); dark: rgb(53,83,14)) */
  --ring: rgb(154, 230, 0) !important;
  --sidebar-ring: rgb(154, 230, 0) !important;

  /* Obsidian accent passthrough (cannot be reduced to a single RGB literal) */
  --theme-accent: var(--color-accent);

  /* Sidebar accent uses accent when available, otherwise falls back (light fallback: rgb(244,244,245)) */
  --sidebar-accent: var(--theme-accent, rgb(244, 244, 245)) !important;

  /* Chart variations (depends on --theme-accent; keep color-mix but use RGB literal for white) */
  --chart-accent-1: color-mix(in oklab, var(--theme-accent) 90%, rgb(255, 255, 255) 10%);
  --chart-accent-2: color-mix(in oklab, var(--theme-accent) 70%, rgb(255, 255, 255) 30%);
  --chart-accent-3: color-mix(in oklab, var(--theme-accent) 50%, rgb(255, 255, 255) 50%);
  --chart-accent-4: color-mix(in oklab, var(--theme-accent) 30%, rgb(255, 255, 255) 70%);

  /* Sprout ratings — light theme (dark equivalents in .theme-dark .sprout) */
  --sprout-again-bg: rgb(239, 68, 68);
  --sprout-again-fg: var(--bc-btn-fg, rgb(255, 255, 255));
  --sprout-again-bg-light: rgb(254, 226, 226);

  --sprout-good-bg: rgb(34, 197, 94);
  --sprout-good-fg: rgb(255, 255, 255);
  --sprout-good-bg-light: rgb(220, 252, 231);

  --sprout-hard-bg: rgb(234, 179, 8);
  --sprout-hard-fg: rgb(255, 255, 255);
  --sprout-hard-bg-light: rgb(254, 249, 195);

  --sprout-easy-bg: rgb(0, 0, 0);
  --sprout-easy-fg: rgb(255, 255, 255);

  /* Dropdown surfaces (light: rgb(255,255,255)/rgb(246,246,246); dark: rgb(42,42,42)/rgb(60,60,60)) */
  --sprout-deck-dropdown-bg: rgb(255, 255, 255) !important;
  --sprout-deck-hover-bg: rgb(246, 246, 246) !important;
}

.theme-dark .sprout {
  /* Surfaces - using parent theme color-base variables */
  --background: var(--color-base-00) !important;
  --background-primary: var(--color-base-00) !important;
  --color-popover: var(--color-base-00) !important;
  --file-header-background-focused: var(--color-base-00) !important;

  --interactive-normal: var(--color-base-20) !important;
  --color-background: var(--color-base-20) !important;
  --card: var(--color-base-20) !important;
  --popover: var(--color-base-20) !important;
  --sidebar: var(--color-base-20) !important;

  /* Extra accent surface in dark */
  --accent: var(--color-base-30) !important;

  /* Text/foreground - using lightest color-base for text */
  --foreground: var(--color-base-100) !important;
  --text-color: var(--color-base-100) !important;
  --card-foreground: var(--color-base-100) !important;
  --color-card-foreground: var(--text-color) !important;
  --popover-foreground: var(--color-base-100) !important;
  --sidebar-foreground: var(--color-base-100) !important;
  --secondary-foreground: var(--color-base-100) !important;
  --accent-foreground: var(--color-base-100) !important;
  --sidebar-accent-foreground: var(--color-base-100) !important;

  /* Primary brand (light: rgb(94,165,0); dark: rgb(94,165,0) and a brighter sidebar variant) */
  --primary: rgb(94, 165, 0) !important;
  --primary-foreground: rgb(247, 254, 231) !important;

  --sidebar-primary: rgb(124, 207, 0) !important;
  --sidebar-primary-foreground: rgb(247, 254, 231) !important;

  /* Secondary / muted surfaces */
  --secondary: var(--color-base-25) !important;
  --muted: var(--color-base-25) !important;

  /* Muted text - using mid-gray */
  --muted-foreground: var(--color-base-60) !important;

  /* Obsidian accent passthrough (cannot be reduced to a single RGB literal) */
  --theme-accent: var(--color-accent);

  /* Sidebar accent uses accent when available, otherwise falls back (dark fallback: rgb(39,39,42)) */
  --sidebar-accent: var(--theme-accent, rgb(39, 39, 42)) !important;

  /* Chart variations (depends on --theme-accent; keep color-mix but use RGB literal for white) */
  --chart-accent-1: color-mix(in oklab, var(--theme-accent) 90%, rgb(255, 255, 255) 10%);
  --chart-accent-2: color-mix(in oklab, var(--theme-accent) 70%, rgb(255, 255, 255) 30%);
  --chart-accent-3: color-mix(in oklab, var(--theme-accent) 50%, rgb(255, 255, 255) 50%);
  --chart-accent-4: color-mix(in oklab, var(--theme-accent) 30%, rgb(255, 255, 255) 70%);

  /* Destructive (light: rgb(231,0,11); dark: rgb(255,100,103)) */
  --destructive: rgb(255, 100, 103) !important;

  /* Borders/inputs - using mid-gray from color scale */
  --border: var(--color-base-35) !important;
  --background-modifier-border: var(--color-base-35) !important;
  --color-border: var(--color-base-35) !important;
  --sidebar-border: var(--color-base-35) !important;

  --input: var(--color-base-40) !important;

  /* Ring/focus (light: rgb(154,230,0); dark: rgb(53,83,14)) */
  --ring: rgb(53, 83, 14) !important;
  --sidebar-ring: rgb(53, 83, 14) !important;

  /* Sprout ratings — dark theme (paired with light equivalents in .sprout) */
  --sprout-again-bg: rgb(185, 28, 28);        /* light: rgb(239,68,68) */
  --sprout-again-fg: var(--bc-btn-fg, rgb(255, 255, 255));
  --sprout-again-bg-light: rgb(63, 29, 29);   /* light: rgb(254,226,226) */

  --sprout-good-bg: rgb(21, 128, 61);         /* light: rgb(34,197,94) */
  --sprout-good-fg: rgb(255, 255, 255);
  --sprout-good-bg-light: rgb(22, 48, 34);    /* light: rgb(220,252,231) */

  --sprout-hard-bg: rgb(161, 98, 7);          /* light: rgb(234,179,8) */
  --sprout-hard-fg: rgb(255, 255, 255);
  --sprout-hard-bg-light: rgb(52, 36, 10);    /* light: rgb(254,249,195) */

  --sprout-easy-bg: rgb(60, 60, 60);          /* light: rgb(0,0,0) */
  --sprout-easy-fg: rgb(255, 255, 255);

  /* Dropdown surfaces (light: rgb(255,255,255)/rgb(246,246,246); dark: rgb(42,42,42)/rgb(60,60,60)) */
  --sprout-deck-dropdown-bg: rgb(42, 42, 42) !important;
  --sprout-deck-hover-bg: rgb(60, 60, 60) !important;
}


.workspace-leaf-content.sprout,
.workspace-leaf-content .sprout,
.workspace-leaf-content:has(.sprout),
.view-content.sprout,
.view-content .sprout,
.view-content:has(.sprout),
.view-header.sprout,
.view-header .sprout,
.view-header:has(.sprout),
.workspace-leaf.sprout,
.workspace-leaf .sprout,
.workspace-leaf:has(.sprout) {
  background: transparent !important;
  border-radius: none !important;
  background-color: transparent !important;
  box-shadow: none !important;
}

/* Widget popover root should be transparent so rounded menu doesn't bleed */
.sprout[id^="bc-widget-menu-"][id$="-popover"] {
  background: transparent !important;
  background-color: transparent !important;
  box-shadow: none !important;
}
/* Basecoat-style icon outline button overrides */
.sprout .btn-icon-outline {
  background: var(--background) !important;
  color: var(--foreground) !important;
  border: 1px solid var(--border) !important;
  box-shadow: none !important;
  border-radius: var(--radius) !important;
  padding: 0.375rem !important;
  min-width: 32px;
  min-height: 32px;
  max-height: 33px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: background 0.15s, color 0.15s, border-color 0.15s;
}
.sprout .sprout-view-actions .btn-icon-outline {
  height: 33px !important;
  min-height: 33px !important;
  border-radius: 6px !important;
}
.sprout .sprout-view-actions .btn-outline,
.sprout .sprout-view-actions .btn-icon-outline {
  height: 33px !important;
  min-height: 33px !important;
  align-items: center;
}
.sprout .view-header-nav-buttons .btn-outline,
.sprout .sprout-header .view-header-nav-buttons .btn-outline {
  height: 33px !important;
  min-height: 33px !important;
  align-items: center;
}
.sprout .btn-icon-outline:hover,
.sprout .btn-icon-outline:focus-visible {
  background: var(--color-base-25) !important;
  color: var(--color-base-100) !important;
  border-color: var(--color-base-30) !important
}
.sprout .btn-icon-outline:active {
  background: var(--muted) !important;
  color: var(--foreground) !important;
  border-color: var(--muted) !important;
}

.theme-dark .sprout .btn-icon-outline {
  background: var(--background) !important;
  color: var(--foreground) !important;
  border: 1px solid var(--border) !important;
  max-height: 33px;
}
.theme-dark .sprout .btn-icon-outline:hover,
.theme-dark .sprout .btn-icon-outline:focus-visible {
  background: var(--color-base-30) !important;
  color: var(--color-base-100) !important;
  border-color: var(--color-base-35) !important;
}
.theme-dark .sprout .btn-icon-outline:active {
  background: var(--muted) !important;
  color: var(--foreground) !important;
  border-color: var(--muted) !important;
}

/* Icon-only button (no background/border) */
.sprout .btn-icon-ghost {
  background: transparent !important;
  color: var(--foreground) !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  min-width: 24px;
  min-height: 24px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.sprout .btn-icon-ghost:hover,
.sprout .btn-icon-ghost:focus-visible {
  color: var(--text-normal) !important;
  opacity: 0.8;
}
.sprout .btn-icon-ghost:active {
  opacity: 0.6;
}
/* Basecoat-style outline button and button group overrides */
.sprout .btn-outline {
  background: var(--background) !important;
  color: var(--foreground) !important;
  border: 1px solid var(--border) !important;
  box-shadow: none !important;
  transition: background 0.15s, color 0.15s, border-color 0.15s;
  max-height: 33px;
}

.sprout .btn-outline:hover,
.sprout .btn-outline:focus-visible {
  background: var(--color-base-25) !important;
  color: var(--color-base-100) !important;
  border-color: var(--color-base-30) !important;
}

.sprout .btn-outline:active {
  background: var(--muted) !important;
  color: var(--foreground) !important;
  border-color: var(--muted) !important;
}

.sprout .button-group {
  display: inline-flex;
  border-radius: var(--radius) !important;
  overflow: hidden;
  background: var(--background) !important;
  border: 1px solid var(--border) !important;
}

.sprout .button-group .btn-outline {
  border-radius: 0 !important;
  border: none !important;
  border-right: 1px solid var(--border) !important;
  max-height: 33px;
}
.sprout .button-group .btn-outline:last-child {
  border-right: none !important;
}

/* Dark theme overrides for outline buttons and button groups */
.theme-dark .sprout .btn-outline {
  background: var(--background) !important;
  color: var(--foreground) !important;
  border: 1px solid var(--border) !important;
  max-height: 33px;
}
.theme-dark .sprout .btn-outline:hover,
.theme-dark .sprout .btn-outline:focus-visible {
  background: var(--color-base-30) !important;
  color: var(--color-base-100) !important;
  border-color: var(--color-base-35) !important;
}
.theme-dark .sprout .btn-outline:active {
  background: var(--muted) !important;
  color: var(--foreground) !important;
  border-color: var(--muted) !important;
}
.theme-dark .sprout .button-group {
  background: var(--background) !important;
  border: 1px solid var(--border) !important;
}
.theme-dark .sprout .button-group .btn-outline {
  border-radius: 0 !important;
  border: none !important;
  border-right: 1px solid var(--border) !important;
}
.theme-dark .sprout .button-group .btn-outline:last-child {
  border-right: none !important;
}

/* High-level view backgrounds */
.sprout,
.sprout .sprout-view-content,
.sprout .sprout-browser-view,
.sprout .sprout-analytics-root {
  background-color: var(--background-primary) !important;
}

/* Workspace leaf containers for Sprout views */
.workspace-leaf-content.sprout,
.workspace-leaf-content .sprout {
  background-color: var(--background-primary) !important;
}


/* 1) Keep ONLY the top-level sprout-content-view constrained */
.sprout .sprout-view-content {
  width: 100%;
  padding: 40px 0 40px;
  margin-left: auto;
  margin-right: auto;

  display: flex;
  flex-direction: column;
  min-height: 0;
  height: 100%;
  max-height: 100%;
  overflow-y: scroll !important;
}

/* Keep scrollbar at the edge while preserving content padding */
.sprout .sprout-view-content > * {
  padding-left: 40px;
  padding-right: 40px;
  box-sizing: border-box;
}

/* Flashcards view: keep AOS travel distance consistent and subtle */
.sprout .sprout-browser-view [data-aos="fade-up"] {
  transform: translate3d(0, 16px, 0) !important;
}
.sprout .sprout-browser-view [data-aos="fade-up"].aos-animate {
  transform: translate3d(0, 0, 0) !important;
}

/* Browser table should align with other content (margin instead of inner padding) */
.sprout .sprout-browser-table-wrap {
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin-left: 40px;
  margin-right: 40px;
  box-sizing: border-box;
}

/* Hide scrollbars in Sprout while keeping scroll behavior */
.sprout * {
  scrollbar-width: none;
  -ms-overflow-style: none;
}
.sprout *::-webkit-scrollbar {
  width: 0;
  height: 0;
}

/* Re-enable visible scrollbars inside modals */
.sprout .sprout-modal,
.sprout .sprout-modals,
.sprout .sprout-modal *,
.sprout .sprout-modals * {
  scrollbar-width: auto;
  -ms-overflow-style: auto;
}
.sprout .sprout-modal::-webkit-scrollbar,
.sprout .sprout-modals::-webkit-scrollbar,
.sprout .sprout-modal *::-webkit-scrollbar,
.sprout .sprout-modals *::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
.sprout .sprout-modal::-webkit-scrollbar-thumb,
.sprout .sprout-modals::-webkit-scrollbar-thumb,
.sprout .sprout-modal *::-webkit-scrollbar-thumb,
.sprout .sprout-modals *::-webkit-scrollbar-thumb {
  background: rgba(120, 120, 120, 0.6);
  border-radius: 6px;
}
.sprout .sprout-modal::-webkit-scrollbar-track,
.sprout .sprout-modals::-webkit-scrollbar-track,
.sprout .sprout-modal *::-webkit-scrollbar-track,
.sprout .sprout-modals *::-webkit-scrollbar-track {
  background: transparent;
}

.sprout[data-sprout-wide="1"] .sprout-view-content {
  max-width: none;
}

.sprout .sprout-header-brand-link,
.sprout .view-header .sprout-header-brand-link,
.sprout .view-header .sprout-header-brand .sprout-header-brand-link {
  background-color: #16a34a !important;
  border-color: #16a34a !important;
  color: #ffffff !important;
  text-decoration: none !important;
  border-style: solid !important;
  border-width: 1px !important;
  border-radius: var(--radius) !important;
  width: 32px !important;
  min-width: 32px !important;
  padding-left: 6px !important;
  padding-right: 6px !important;
  overflow: hidden !important;
  white-space: nowrap !important;
  transition: width 160ms ease, background-color 160ms ease, border-color 160ms ease, color 160ms ease;
}

.sprout .sprout-header-brand-link:hover,
.sprout .sprout-header-brand-link:focus-visible,
.sprout .view-header .sprout-header-brand-link:hover,
.sprout .view-header .sprout-header-brand-link:focus-visible,
.sprout .view-header .sprout-header-brand .sprout-header-brand-link:hover,
.sprout .view-header .sprout-header-brand .sprout-header-brand-link:focus-visible {
  background-color: #15803d !important;
  border-color: #15803d !important;
  color: #ffffff !important;
  width: 92px !important;
}

.sprout .sprout-header-brand-link:active,
.sprout .view-header .sprout-header-brand-link:active,
.sprout .view-header .sprout-header-brand .sprout-header-brand-link:active {
  background-color: #166534 !important;
  border-color: #166534 !important;
  color: #ffffff !important;
  width: 92px !important;
}

.sprout .sprout-header-brand-link .sprout-header-brand-icon {
  flex: 0 0 auto;
}

.sprout .sprout-header-brand-link .sprout-header-brand-text {
  opacity: 0;
  transform: translateX(-4px);
  transition: opacity 160ms ease, transform 160ms ease;
}

.sprout .sprout-header-brand-link span:not(.sprout-header-brand-icon):not(.sprout-header-brand-text) {
  opacity: 0;
  transform: translateX(-4px);
  transition: opacity 160ms ease, transform 160ms ease;
}

.sprout .sprout-header-brand-link:hover .sprout-header-brand-text,
.sprout .sprout-header-brand-link:focus-visible .sprout-header-brand-text,
.sprout .sprout-header-brand-link:active .sprout-header-brand-text {
  opacity: 1;
  transform: translateX(0);
}

.sprout .sprout-header-brand-link:hover span:not(.sprout-header-brand-icon):not(.sprout-header-brand-text),
.sprout .sprout-header-brand-link:focus-visible span:not(.sprout-header-brand-icon):not(.sprout-header-brand-text),
.sprout .sprout-header-brand-link:active span:not(.sprout-header-brand-icon):not(.sprout-header-brand-text) {
  opacity: 1;
  transform: translateX(0);
}

/* 2) Deck disclosure chevrons: plain icon, rotates with transition */
.sprout .sprout-deck-disclosure {
  appearance: none;
  border: 0;
  background: transparent;
  padding: 0;
  margin: 0;

  width: 20px;
  height: 20px;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  cursor: pointer;
  color: var(--text-muted);
}

.sprout .sprout-deck-disclosure:hover {
  color: var(--text-normal);
}

.sprout .sprout-deck-disclosure:focus-visible {
  outline: 2px solid rgba(var(--interactive-accent-rgb), 0.45);
  outline-offset: 2px;
  border-radius: 6px;
}

.sprout .sprout-deck-disclosure svg {
  width: 12.8px;
  height: 12.8px;
  transition: transform 140ms ease;
  transform-origin: 50% 50%;
}

/* No rotation for plus/minus disclosure */
.sprout .sprout-deck-disclosure[data-open="true"] svg {
  transform: none;
}

/* 3) Ensure the select popover floats above panes (Basecoat still styles it) */
.sprout .sprout-group-select-popover {
  z-index: 10000;
  background: var(--background) !important;
  color: var(--foreground) !important;
  border-color: var(--border) !important;
  box-shadow: none !important;
  pointer-events: auto;
}

.sprout .sprout-group-select-header {
  padding: 8px 10px;
  background: var(--background) !important;
  pointer-events: auto;
}

.sprout .sprout-group-search-input {
  width: 100%;
  background: var(--background);
  color: var(--foreground);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 6px 10px;
  outline: none;
  box-shadow: none;
  pointer-events: auto;
}

.sprout .sprout-group-search-input:focus {
  border-color: var(--ring);
  box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.25);
}

.sprout .sprout-deck-expand-icon svg {
  width: 12.8px;
  height: 12.8px;
}

/* ======================================================================
   Boot Camp — Obsidian modal styled like Basecoat Dialog / Alert Dialog
   Scoped via .sprout-modal-container + .sprout-modals
   ====================================================================== */

/* Backdrop */
.sprout .sprout-modal-container .modal-bg {
  background-color: rgba(0, 0, 0, 0.14) !important;
  backdrop-filter: blur(2px) !important;
}
.sprout-modal-dim .modal-bg {
  background-color: rgba(0, 0, 0, 0.14) !important;
  backdrop-filter: blur(2px) !important;
}

/* Panel */
.sprout .sprout-modals.modal {
  padding: 0;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--background);
  box-shadow: none !important;
  overflow: hidden;

  /* keep it feeling like Basecoat dialog sizing */
  max-width: min(560px, 92vw);
}

/* Header + content spacing */
.sprout .sprout-modals.modal .modal-header {
  padding: 14px 16px 10px;
  border-bottom: 1px solid var(--border);
  background: var(--background);
}

.sprout .sprout-modals.modal .modal-content {
  padding: 14px 16px 16px;
  max-height: min(72vh, 720px);
  overflow: auto;
}

/* Dark mode modal text: force readable foreground */
.theme-dark .sprout .sprout-modal,
.theme-dark .sprout .sprout-modals.modal,
.theme-dark .sprout .sprout-modals.modal .modal-content,
.theme-dark .sprout .sprout-card-editor-modal-root {
  color: var(--foreground) !important;
}

.sprout .sprout-card-editor-modal-root {
  all: unset;
  display: flex;
  flex-direction: column;
  gap: 16px;
  width: min(640px, 100%) !important;
  max-height: 90vh !important;
  overflow: auto !important;
  padding: 20px !important;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--background);
  box-shadow: none !important;
  box-sizing: border-box;
}

.sprout .sprout-card-editor-modal-root .fieldset {
  margin: 0;
  padding: 0;
}

/* Close button: icon-only, subtle hover (Basecoat-like) */
.sprout .sprout-modals.modal .modal-close-button {
  top: 10px;
  right: 10px;

  border-radius: 6px;
  border: 1px solid transparent;
  background: transparent;
}

.sprout .sprout-modals.modal .modal-close-button:hover {
  background: rgba(0, 0, 0, 0.06);
  border-color: rgba(0, 0, 0, 0.08);
}

.theme-dark .sprout .sprout-modals.modal .modal-close-button:hover {
  background: rgba(255, 255, 255, 0.06);
  border-color: rgba(255, 255, 255, 0.10);
}

/* Optional: tighten default modal title spacing if Obsidian inserts one */
.sprout .sprout-modals.modal .modal-title {
  margin: 0;
}
/* Hide Obsidian's global status bar only when Boot Camp views are active */
body.sprout.sprout-hide-status-bar .status-bar {
  display: none !important;
}

.sprout .view-header.sprout-header {padding: 40px;}

/* Analytics: remove Obsidian card margins inside analytics grids */
.sprout .sprout-analytics-root .sprout-ana-grid > .card,
.sprout .sprout-analytics-root .sprout-ana-grid .card,
.sprout .sprout-analytics-root .card.sprout-ana-card {
  margin: 0 !important;
}

.sprout .sprout-analytics-root .sprout-ana-grid {
  align-items: stretch;
}

.sprout .sprout-analytics-root .sprout-ana-grid > div {
  display: flex;
}

.sprout .sprout-analytics-root .sprout-ana-grid > div > .card {
  flex: 1;
  display: flex !important;
  flex-direction: column;
}

/* Analytics: standardize Recharts axis + ticks */
.sprout .sprout-analytics-root .recharts-cartesian-axis-line,
.sprout .sprout-analytics-root .recharts-cartesian-axis-tick-line {
  stroke: var(--border) !important;
}
.sprout .sprout-analytics-root .recharts-cartesian-axis-tick-value {
  fill: var(--text-muted) !important;
  font-size: 11px !important;
}
.sprout .sprout-analytics-root .recharts-label tspan {
  fill: var(--text-muted) !important;
}

/* Pie chart center value: ensure readable fill in light/dark */
.sprout .sprout-analytics-root .fill-foreground {
  fill: #111 !important;
}
.theme-dark .sprout .sprout-analytics-root .fill-foreground {
  fill: #fff !important;
}

/* Analytics: shrink info icons by 20% */
.sprout .sprout-analytics-root .lucide-info {
  width: 11.2px;
  height: 11.2px;
}

/* Analytics: info icons should look clickable */
.sprout .sprout-analytics-root [data-tooltip]:has(.lucide-info) {
  cursor: pointer;
}

/* Analytics: keep forgetting curve card height steady even when empty */
.sprout .sprout-analytics-root .sprout-forgetting-curve-card {
  min-height: 350px;
}

/* Analytics: add a bit more space between chart titles and info icons */
.sprout .sprout-analytics-root .sprout-ana-card .font-semibold + span {
  margin-left: 3px;
}

/* Analytics: nudge info tooltips a bit lower so they don't sit under the cursor */
.sprout .sprout-analytics-root [data-tooltip]:has(.lucide-info)::after {
  bottom: -48px;
}

/* Analytics: ensure filter popovers render above neighboring charts */
.sprout .sprout-ana-card {
  position: relative;
}

.sprout .sprout-ana-card:has(button[aria-expanded="true"]),
.sprout .sprout-ana-card[data-popover-open="true"] {
  z-index: 1000000;
  overflow: visible !important;
}

/* Analytics: lift the entire row/grid when any filter is open */
.sprout .sprout-analytics-root :where(.sprout-ana-grid, .grid, .sprout-heatmap-host):has(
    .sprout-ana-card[data-popover-open="true"]
  ),
.sprout .sprout-analytics-root :where(.sprout-ana-grid, .grid, .sprout-heatmap-host):has(
    .sprout-ana-card:has(button[aria-expanded="true"])
  ) {
  position: relative;
  z-index: 1000002;
  overflow: visible !important;
}
.sprout .sprout-analytics-root :where(.sprout-ana-grid, .grid, .sprout-heatmap-host)[data-popover-open="true"] {
  position: relative;
  z-index: 1000002;
  overflow: visible !important;
}
.sprout .sprout-ana-card .dropdown-menu,
.sprout .sprout-ana-card [data-popover="true"],
.sprout .sprout-ana-card .bg-popover {
  z-index: 1000001 !important;
}

/* Analytics: ensure open filters float above any chart stack */
.sprout .sprout-analytics-root .sprout-ana-card [aria-hidden="false"],
.sprout .sprout-analytics-root .sprout-ana-card [data-popover="true"] {
  position: absolute;
  z-index: 1000001 !important;
}

/* Home: remove Obsidian card margins inside home layout */
.sprout .sprout-home-root .card {
  margin: 0 !important;
}

/* Dark mode card polish (Basecoat-aligned) */
.theme-dark .sprout .card,
.theme-dark .sprout .card.sprout-ana-card,
.theme-dark .sprout .sprout-ana-card {
  color: var(--card-foreground) !important;
  border-color: var(--border) !important;
  box-shadow: none !important;
}

.sprout .sprout-inline-sentence {
  position: relative;
}

.sprout .sprout-analytics-root .table tbody tr {
  border-bottom: 1px solid var(--border);
}
.sprout .sprout-analytics-root .table tbody tr:last-child {
  border-bottom: none;
}

/* Table row hover: make borders match the hover background */
.sprout .bc table tbody tr:hover {
  background-color: var(--background-secondary) !important;
}
.sprout .bc table tbody tr:hover,
.sprout .bc table tbody tr:hover td {
  border-color: var(--background-secondary) !important;
  border-bottom-color: var(--background-secondary) !important;
}

/* Browser table hover: hide border seams by matching hover color */
.sprout .sprout-browser-view .table tbody tr:hover {
  background-color: var(--color-background) !important;
}
.sprout .sprout-browser-view .table tbody tr:hover,
.sprout .sprout-browser-view .table tbody tr:hover td {
  border-color: var(--color-background) !important;
  border-bottom-color: var(--color-background) !important;
}

/* Flashcard browser: unify pagination + rows button heights */
.sprout .sprout-browser-view nav[role="navigation"] .btn,
.sprout .sprout-browser-view nav[role="navigation"] .btn-outline,
.sprout .sprout-browser-view [data-tooltip="Rows per page"] {
  height: 36px !important;
  min-height: 36px !important;
}

/* Flashcard browser: align search input height with buttons */
.sprout [data-sprout-browser-root="1"] .flex.items-start {
  align-items: stretch !important;
}
.sprout [data-sprout-browser-root="1"] .input.h-9,
.sprout [data-sprout-browser-root="1"] input.h-9 {
  height: 36px !important;
  min-height: 36px !important;
  align-self: stretch !important;
}
.sprout [data-sprout-browser-root="1"] .btn-outline.h-9 {
  height: 36px !important;
  min-height: 36px !important;
}

.sprout .sprout-inline-sentence input {
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  letter-spacing: inherit;
  text-transform: inherit;
  line-height: inherit;
  font-style: inherit;
  font-variant: inherit;
  background: transparent;
  border: 0;
  outline: none;
  box-shadow: none;
  border-radius: 0 !important;
  padding: 0 0.15em;
  margin: 0 -0.15em;
  min-width: 0;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: textfield;
  display: inline-block;
  vertical-align: baseline;
  caret-color: currentColor;
}

.sprout .sprout-inline-sentence input:focus-visible {
  box-shadow: none !important;
}

.sprout .sprout-github-stars {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 8px 14px;

  font-weight: 600;
  border-radius: var(--radius);
  background: #111;
  color: #fff;
  transition: background 0.18s;
}
.sprout .sprout-github-stars:hover {
  background: #222;
  text-decoration: none;
  font-weight: 600;
  width: fit-content;
}

.sprout .sprout-github-stars-icon,
.sprout .sprout-github-stars-star {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.sprout .sprout-github-stars-icon svg {
  width: 16px;
  height: 16px;
}

.sprout .sprout-github-stars-star svg {
  width: 18px;
  height: 18px;
  color: #f4b400;
  transition: filter 0.18s;
}

.sprout .sprout-github-stars-value {
  font-weight: 700;
  letter-spacing: 0.01em;
}

.sprout .sprout-bmc {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 8px 14px;

  font-weight: 600;
  border-radius: var(--radius);
  background: #f4b400 !important;
  color: #111 !important;
  transition: background 0.18s;
}
.sprout .sprout-bmc:hover {
  background: #e2a800 !important;
  text-decoration: none;
  font-weight: 600;
  width: fit-content;
}

.sprout .sprout-bmc-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.sprout .sprout-bmc-icon svg {
  width: 16px;
  height: 16px;
}

/* Dark theme overrides for GitHub Stars and BMC buttons */
.theme-dark .sprout .sprout-github-stars {
  background: #f4b400;
  color: #111111;
  box-shadow: 0 2px 8px rgba(0,0,0,0.18);
  transition: background 0.18s;
}
.theme-dark .sprout .sprout-github-stars:hover {
  background: #e2a800;
}
.theme-dark .sprout .sprout-github-stars-star svg {
  color: #ffffff;
  fill: #ffffff;
  transition: filter 0.18s;
}
.theme-dark .sprout .sprout-github-stars-icon svg {
  color: #ffffff;
}
.theme-dark .sprout .sprout-github-stars-value {
  color: #111111;
}

.theme-dark .sprout .sprout-bmc {
  color: #111214 !important;
  background: #ffffff !important;
  transition: background 0.18s;
  box-shadow: 0 2px 8px #0000002e;
}
.theme-dark .sprout .sprout-bmc:hover {
  background: #f2f2f2 !important;
}
.theme-dark .sprout .sprout-bmc:active {
  background: #e6e6e6 !important;
}
.theme-dark .sprout .sprout-bmc-icon svg {
  color: #111214;
}

/* Boot Camp: force Basecoat accent tokens on all Basecoat-scoped nodes */
:where(.bc) {
  --color-accent: var(--accent) !important;
  --color-accent-foreground: var(--accent-foreground) !important;
}

/* Obsidian dark mode class */
:where(.theme-dark .bc) {
  --color-accent: var(--accent) !important;
  --color-accent-foreground: var(--accent-foreground) !important;
}

.dropdown-menu hr {margin: 0; border-radius: 6px;
    overflow: hidden;}

.sprout .dropdown-menu {
  background-color: var(--background) !important;}
/* Tooltip styles for icon buttons */
[data-tooltip] {
  position: relative;
}


[data-tooltip] {
  position: relative;
}


/* Default tooltip below */
[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: -35px;
  left: 50%;
  transform: translateX(-50%);
  background-color: var(--foreground);
  color: #fff;
  padding: 6px 10px;
  border-radius: 6px;
  font-size: 12px;
  min-width: 160px;
  max-width: 300px;
  width: max-content;
  white-space: normal;
  overflow-wrap: anywhere;
  text-align: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
  z-index: 3000;
  transition-delay: 1s;
  border: none;
}

/* Modal info tooltips: place to the right with a small offset */
.sprout .sprout-modal [data-tooltip]:has(.lucide-info)::after,
.sprout .sprout-modals [data-tooltip]:has(.lucide-info)::after {
  bottom: auto;
  top: 50%;
  left: calc(100% + 8px);
  transform: translateY(-50%);
  text-align: left;
  z-index: 10000;
}

/* Dark mode tooltip contrast */
.theme-dark .sprout [data-tooltip]::after {
  background-color: #111214;
  color: #fff !important;
  border: 1px solid var(--border);
}

/* Tooltips above for browser table controls */
.sprout .sprout-view-content .btn-outline[data-tooltip]::after,
.sprout .sprout-view-content .btn-icon-outline[data-tooltip]::after {
  bottom: auto;
  top: -35px;
}

[data-tooltip]:hover::after {
  opacity: 1;
}

[data-tooltip]::before {
  content: "";
  display: none !important;
}

/* Settings tooltips: allow overflow and ensure visibility */
.sprout-settings .setting-item,
.sprout-settings .setting-item-control,
.sprout-settings .setting-item-info {
  overflow: visible !important;
}
.sprout-settings [data-tooltip]::after {
  z-index: 10000;
}

/* Roadmap badge styles */
.sprout-badge-success {
  background-color: oklch(0.8 0.1 142);
  color: oklch(0.2 0 0);
}



/* ======================================================================
   Home View: CSS Classes for inline styles migration
   ====================================================================== */

/* Greeting icon sizing */
.sprout-greeting-icon {
  margin-right: 0.625rem;
}

.sprout-greeting-icon svg {
  width: 20px;
  height: 20px;
  stroke: currentColor;
}

/* Name input styling */
.sprout-home-name-input {
  min-width: 0;
  flex: 0 0 auto;
  max-width: 240px;
  border: none !important;
  box-shadow: none !important;
}

/* Name suffix (greeting text after name) */
.sprout-greeting-suffix {
  margin-left: -0.25rem;
}

/* Name sizer element (hidden measurement element) */
.sprout-name-sizer {
  position: absolute;
  visibility: hidden;
  white-space: pre;
  pointer-events: none;
  height: 0;
  overflow: hidden;
}

/* Root container width management */
.sprout-root[data-sprout-wide="1"] .sprout-view-content {
  max-width: none !important;
  width: 100% !important;
}

.sprout-view-content {
  max-width: 1080px !important;
  width: 100% !important;
  margin-left: auto !important;
  margin-right: auto !important;
  min-height: 0;
  gap: 12px;
}

/* Icon wrapper styling (20px icons) */
.sprout-icon-20 {
  width: 20px;
  height: 20px;
  color: var(--text-muted);
  flex-shrink: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.sprout-icon-20 svg {
  width: 20px;
  height: 20px;
  stroke: currentColor;
}

/* Icon wrapper styling (14px icons) */
.sprout-icon-14 {
  width: 14px;
  height: 14px;
  stroke: currentColor;
}

/* Icon wrapper styling (16px icons) */
.sprout-icon-16 {
  width: 16px;
  height: 16px;
}

/* Section heading row styling */
.sprout-section-heading-row {
  margin: 0;
}

/* Search input styling */
.sprout-deck-search-input {
  height: 42px !important;
  padding: 10px !important;
  border: 1px dashed var(--background-modifier-border-hover) !important;
  border-radius: 6px !important;
  background: var(--background-modifier-form-field) !important;
}

.sprout-deck-search-input:focus {
  border: 1px solid var(--background-modifier-border) !important;
  text-align: left !important;
}

.sprout-deck-search-input:not(:focus):not(:hover) {
  text-align: center !important;
}

.sprout-deck-search-input-focused {
  border: 1px solid var(--background-modifier-border) !important;
  text-align: left !important;
}

/* Search dropdown styling */
.sprout-deck-search-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  margin-top: 0.25rem;
  background: var(--bg-popover, var(--color-popover, var(--color-background))) !important;
  border: 1px solid var(--border);
  border-radius: 6px;
  box-shadow: var(--shadow-s) !important;
  z-index: 1000;
  max-height: 300px;
  overflow-y: auto;
  padding: 3.5px;
}

.sprout-deck-search-dropdown.hidden {
  display: none;
}

/* Shared dropdown shadow */
.sprout .sprout-dropdown-shadow {
  box-shadow: var(--shadow-s) !important;
}

/* Deck row styling (pinned/recent) */
.sprout-deck-row {
  height: 42px;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Trend badge styling */
.sprout-trend-badge {
    background-color: var(--theme-accent);
    color: #fff;
    border: none;
    border-radius: 9999px;
    align-items: center;
    /* gap: .1rem; */
  padding: 0.125rem 0.5rem;
    font-size: .65rem;
    font-weight: 500;
    display: inline-flex;
  min-height: 22px;
  max-height: 22px;
  height: 22px;
}

.sprout-trend-badge svg {
  width: 14px;
  height: 14px;
  stroke: currentColor;
}

/* Text truncation with RTL handling */
.sprout-text-truncate-rtl {
  direction: rtl;
  text-align: left;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

/* "Live" badge for active streak */
.sprout-live-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  border-radius: 9999px;
  padding: 0.125rem 0.5rem;
  font-size: 0.75rem;
  font-weight: 500;
    min-height: 22px;
  max-height: 22px;
  height: 22px;
  background-color: var(--theme-accent);
  border: 1px solid var(--theme-accent);
  color: #fff;
}

.sprout-live-badge-orange {
  background-color: var(--sprout-live-orange-bg, var(--color-orange, var(--theme-accent))) !important;
  border: 1px solid var(--sprout-live-orange-border, var(--color-orange, var(--theme-accent))) !important;
  color: var(--sprout-live-orange-fg, #fff) !important;
}

/* Pulsing circle for live indicator */
.sprout-live-indicator {
  display: inline-block;
  width: 0.375rem;
  height: 0.375rem;
  border-radius: 50%;
  background-color: var(--background);
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Heatmap container */
.sprout-heatmap-host {
  width: 100%;
  min-height: 200px;
}

/* Remove button styling */
.sprout-deck-remove-btn {
  width: 20px;
  height: 20px;
  color: var(--foreground);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.sprout-deck-remove-btn svg {
  width: 16px;
  height: 16px;
}

/* Icon styling for drag handle */
.sprout-drag-handle {
  cursor: grab;
  color: var(--text-muted);
}

.sprout-drag-handle:hover {
  color: var(--text-normal);
}

.sprout-drag-handle:active {
  cursor: grabbing;
}

/* Placeholder slot styling */
.sprout-placeholder-slot {
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  border: 1px dashed rgba(var(--text-muted-rgb), 0.4);
  font-size: 0.875rem;
  color: var(--text-muted);
  background-color: rgba(var(--text-muted-rgb), 0.1);
  padding: 10px;
  height: 42px;
}

/* Dragging opacity */
.sprout-deck-row-dragging {
  opacity: 0.5;
}


/* Session card improvements */
.sprout-session-card.card {
  transition: height 0.2s ease-in-out;
  height: auto !important;
  min-height: 0 !important;
  max-height: none !important;
  height: fit-content !important;
  max-height: max-content !important;
  border-radius: var(--radius);
  border: 1px solid var(--border);
  box-shadow: none !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
  /* Prevent flex containers from stretching the card vertically */
  flex-grow: 0 !important;
  flex-shrink: 0 !important;
  align-self: flex-start;
  justify-self: flex-start;
  flex-basis: auto !important;
}


.sprout-session-card header {
  padding: 0em 0em 2em 0em !important;
  margin: 1.5rem 2.5rem 0.5rem;
}

.sprout-session-card section {
  padding: 0 !important;
  margin: 1rem 2.5rem;
  transition: all 0.2s ease-in-out;
}

.sprout-session-card footer {
  border-top: 1px solid var(--border);
  padding: 3em 0em 1em 0rem !important;
  margin: 2.5rem;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
}

/* Study session timer styling */
.sprout-session-card [class*="timer"] svg {
  width: 18px;
  height: 18px;
  stroke-width: 2;
  stroke: currentColor;
}

/* Timer button group - no hover/active effects */
.button-group[aria-label="Timer controls"] .btn-sm {
  pointer-events: auto;
}

.button-group[aria-label="Timer controls"] .btn-sm:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}



/* Session card smooth height transitions */
.sprout-session-card.card {
  transition: height 0.2s ease-in-out;
  height: auto !important;
  min-height: 0 !important;
  max-height: none !important;
  height: fit-content !important;
  max-height: max-content !important;
  align-self: flex-start;
  justify-self: flex-start;
  flex-basis: auto !important;
  padding: 0 !important;
}

.sprout-session-card.card section {
  transition: all 0.2s ease-in-out;
}

/* ======================================================================
   Mark element styling (for cloze answer reveals)
   ====================================================================== */

.sprout mark {
  border-radius: 3px;
  background-color: rgb(0, 0, 0);
  color: white;
  padding: 0px 4px;
  margin: 0px 1px;
}

.sprout-session-card header {
  border-bottom: 1px solid var(--border) !important;
  border-radius: 0px;
}

/* Question styling: semibold */
.sprout-session-card .sprout-q {
  font-weight: 600 !important; /* semibold */
}

/* Answer styling: black, slightly larger */
.sprout-session-card .sprout-a {
  color: rgb(0, 0, 0) !important;
  font-size: 1.0625rem !important; /* text-md equivalent */
}
.sprout-session-card .sprout-mcq-correct {
  border-color: rgb(34, 197, 94) !important; /* green */
  border-width: 2px !important;
  border-style: solid !important;
}

.sprout-session-card .sprout-mcq-wrong {
  border-color: rgb(239, 68, 68) !important; /* red */
  border-width: 2px !important;
  border-style: solid !important;
}

/* MCQ review buttons: ensure readable text on colored backgrounds */
.bc-mcq-correct,
.bc-mcq-wrong {
  color: oklch(0.2 0 0) !important;
}

/* Extra information: match answer font size for consistency */
.sprout-session-card .sprout-info {
  font-size: 1.0625rem !important; /* align with .sprout-a */
}

/* Revealed cloze answer styling */
.sprout-cloze-revealed {
  font-weight: 500;
  background-color: var(--theme-accent);
  color: white;
  border-radius: 3px;
  padding: 1px 5px;
  margin: 0px 1px;
}

/* Widget-only cloze reveal styling */
.sprout .sprout-widget-cloze .sprout-cloze-revealed {
  background-color: var(--theme-accent);
  color: #fff;
  border-radius: 3px;
  margin: 0px 2px 0px 0px;
  padding: 0.5px 5px;
  font-weight: 500;
}

/* Widget-only cloze blanks: fixed width */
.sprout .sprout-widget-cloze .sprout-cloze-blank {
  width: 30px !important;
}

/* Widget badges */
.sprout .sprout-widget-badge {
  border: 1px solid var(--theme-accent) !important;
  color: var(--theme-accent) !important;
  background-color: color-mix(in srgb, var(--theme-accent) 12%, transparent) !important;
  border-radius: 999px !important;
  padding: 3px 10px !important;
  font-size: 11px !important;
  display: inline-flex !important;
  align-items: center !important;
  gap: 6px !important;
}


.card {background-color: var(--background);
    border-radius: var(--input-radius) !important;
    box-shadow: none;
    margin: 0;
    padding: 25px;
  }

/* Ensure session cards stay content-sized and use margins instead of padding */
.sprout .sprout-session-card.card {
  padding: 0 !important;
  margin: 0 !important;
  height: auto !important;
  max-height: none !important;
  align-self: flex-start;
  justify-self: flex-start;
  flex: 0 0 auto !important;
}

  /* Small card variant: removes p-4 and applies compact padding */
  .small-card {
    padding: 20px !important;
  }


  body:not(.is-mobile) button:not(.ant-btn):not(.ant-switch):not(.excalidraw button) {
    padding: 7px 15px !important}

.sprout-widget.sprout {
  background: none !important;
  background-color: transparent !important;
}

/* Widget: remove all box-shadows (cards + buttons + any child) */
.sprout .sprout-widget,
.sprout .sprout-widget * {
  box-shadow: none !important;
}

/* Widget buttons: match standard Sprout outline buttons */
.sprout .sprout-widget button,
.sprout .sprout-widget button.bc,
.sprout .sprout-widget .btn,
.sprout .sprout-widget .btn-outline,
.sprout .sprout-widget .btn-primary,
.sprout .sprout-widget .btn-destructive,
.sprout .sprout-widget .sprout-widget-back-btn,
.sprout .sprout-widget .sprout-widget-action-btn {
  background-color: var(--background) !important;
  color: var(--foreground) !important;
  border: 1px solid var(--border) !important;
  box-shadow: none !important;
  outline: none !important;
  transition: background-color 0.15s, border-color 0.15s, color 0.15s;
}

.sprout .sprout-widget .sprout-widget-action-btn {
  font-size: 11px !important;
}

.sprout .sprout-widget .sprout-widget-back-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  padding: 0;
  border-radius: 6px;
}

.sprout .sprout-widget button:hover,
.sprout .sprout-widget button.bc:hover,
.sprout .sprout-widget .btn:hover,
.sprout .sprout-widget .btn-outline:hover,
.sprout .sprout-widget .btn-primary:hover,
.sprout .sprout-widget .btn-destructive:hover,
.sprout .sprout-widget .sprout-widget-back-btn:hover,
.sprout .sprout-widget .sprout-widget-action-btn:hover,
.sprout .sprout-widget button:focus-visible,
.sprout .sprout-widget button.bc:focus-visible,
.sprout .sprout-widget .btn:focus-visible,
.sprout .sprout-widget .btn-outline:focus-visible,
.sprout .sprout-widget .btn-primary:focus-visible,
.sprout .sprout-widget .btn-destructive:focus-visible,
.sprout .sprout-widget .sprout-widget-back-btn:focus-visible,
.sprout .sprout-widget .sprout-widget-action-btn:focus-visible {
  background-color: var(--color-base-25) !important;
  border-color: var(--color-base-30) !important;
  box-shadow: none !important;
}

.sprout .sprout-widget button:active,
.sprout .sprout-widget button.bc:active,
.sprout .sprout-widget .btn:active,
.sprout .sprout-widget .btn-outline:active,
.sprout .sprout-widget .btn-primary:active,
.sprout .sprout-widget .btn-destructive:active,
.sprout .sprout-widget .sprout-widget-back-btn:active,
.sprout .sprout-widget .sprout-widget-action-btn:active,
.sprout .sprout-widget button:focus,
.sprout .sprout-widget button.bc:focus,
.sprout .sprout-widget .btn:focus,
.sprout .sprout-widget .btn-outline:focus,
.sprout .sprout-widget .btn-primary:focus,
.sprout .sprout-widget .btn-destructive:focus,
.sprout .sprout-widget .sprout-widget-back-btn:focus,
.sprout .sprout-widget .sprout-widget-action-btn:focus {
  background-color: var(--muted) !important;
  border-color: var(--muted) !important;
  box-shadow: none !important;
}

.sprout-deck-search-dropdown {
  background: var(--sprout-deck-dropdown-bg, #fff);
}

.sprout-deck-row:hover {
  background-color: var(--color-base-30) !important;
}

.sprout-deck-search-dropdown div:hover {
  background-color: var(--color-base-30) !important;
  color: var(--color-base-100) !important;
}



.sprout.dropdown-menu .bg-popover {
  background-color: #fff;
  color: var(--popover-fg, var(--foreground));
  border-radius: 6px;
}

/* Menu item hover/focus: light theme - very light grey */
.sprout.dropdown-menu .group:hover,
.sprout.dropdown-menu .group:focus {
  background-color: #f3f3f3;
  color: var(--accent-foreground, #111);
}

/* Menu item hover/focus: dark theme */
.theme-dark .sprout.dropdown-menu .group:hover,
.theme-dark .sprout.dropdown-menu .group:focus {
  background-color: #23272e;
  color: var(--accent-foreground, #fff);
}

/* Dark theme popover background still uses variable for dark mode */
.theme-dark .sprout.dropdown-menu .bg-popover {
  background-color: var(--popover-bg, var(--background));
}

.sprout .button-group .btn-icon-outline {
    border: none !important;
    border-radius: 0px !important;
}



/* Set min width and center content for expand/collapse button */
.btn-outline[data-sprout-expand-collapse] {
  min-width: 110px !important;
}


  .sprout-changelog-cell {
    border-radius: 0px;
}

  .sprout-modal-container {
    background: transparent !important;
    background-color: transparent !important;
    backdrop-filter: none !important;
}

.sprout-modal, .sprout-modals {
  background-color: rgb(var(--background) / 0.25);
  backdrop-filter: blur(8px);
  padding: 40px;
  width: 90%;
  max-width: 600px;
  box-shadow: var(--shadow-s);
}

button[aria-current="page"] {
    outline: none !important;
    color: var(--foreground);
    border-radius: 0;
    background-color: var(--border);
    box-shadow: none !important;
}

input[type="radio"]:checked:after,
input[type="checkbox"]:checked:after {
  content: '';
  display: block;
  position: absolute;
  top: 50%;
  left: 50%;
  width: 16px;
  height: 16px;
  transform: translate(-50%, -50%);
  pointer-events: none;
  mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>');
  mask-repeat: no-repeat;
  mask-position: center;
  background-color: var(--muted-foreground);
}

input[type="checkbox"]:checked:hover::after {
  background-color: var(--foreground);
}

.inline-flex.text-muted-foreground.cursor-pointer {
  transition: color 0.15s, fill 0.15s;
}
.inline-flex.text-muted-foreground.cursor-pointer:hover,
.inline-flex.text-muted-foreground.cursor-pointer:focus,
.inline-flex.text-muted-foreground.cursor-pointer:active {
  color: var(--foreground) !important;
}
.inline-flex.text-muted-foreground.cursor-pointer:hover .svg-icon,
.inline-flex.text-muted-foreground.cursor-pointer:focus .svg-icon,
.inline-flex.text-muted-foreground.cursor-pointer:active .svg-icon {
  stroke: var(--foreground) !important;
  color: var(--foreground) !important;
}

.sprout .badge {
    background-color: var(--theme-accent);}

  
    .sprout .table thead tr:hover {
    background-color: transparent !important;
    color: var(--text-color);
}

.sprout .table thead tr {
    /* padding removed: invalid declaration */
}

/* Deck browser table header uses muted text */
.sprout .sprout-browser-view .table thead th,
.sprout .sprout-browser-view .table thead th span {
  color: var(--text-muted) !important;
}

/* RenderDeck table padding + rounded row edges on hover */
.sprout .sprout-deck-table-wrap {
  padding: 8px !important;
}

.sprout .sprout-deck-table tbody tr:hover td:first-child {
  border-top-left-radius: 8px;
  border-bottom-left-radius: 8px;
}

.sprout .sprout-deck-table tbody tr:hover td:last-child {
  border-top-right-radius: 8px;
  border-bottom-right-radius: 8px;
}
/* Deck Browser: scale down plus/minus icons by 20% */
.sprout .sprout-deck-expand-icon svg,
.sprout .sprout-deck-disclosure svg {
  width: 12.8px !important;
  height: 12.8px !important;
}

.sprout .sprout-deck-control-icon svg {
  width: 14px !important;
  height: 14px !important;
}

/* Group select popover: clip inner borders to rounded corners */
.sprout .sprout-group-select-popover {
  border-radius: 6px;
  overflow: hidden;
}


.sprout .bg-background, .sprout .bg-background {
    background-color: var(--background);
}

.sprout-badge-info {
  background-color: var(--theme-accent);
  color: oklch(0.985 0 0);
}

.sprout-badge-default {
  background-color: var(--secondary);
  color: #111
}

.sprout-home-name-input {
  font-size: 17.5px !important;
  font-weight: 600 !important;
  color: var(--text-normal) !important;
}

.sprout-settings .setting-item {
  margin-bottom: 0px !important;
}

/* =========================================================
   Sprout/Basecoat dropdowns + filter panels (unified)
   - Text always uses --text-color
   - Hover/active/focus/selected background uses --color-background
   - Icons + radio dots inherit currentColor
   - Decks/Groups subtitles forced to --text-color
   - Combobox/search popover background forced to --background
   ========================================================= */

/* Floating popover containers (your two variants) */
:where(
  .dropdown-menu > .min-w-56,
  .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1
) {
  background-color: var(--bg-popover, var(--color-popover, var(--color-background))) !important;
  color: var(--text-color) !important;
  border-color: var(--border-color, var(--border-border, var(--border))) !important;
  padding: 6px !important;
}

/* Menu items: role=menuitem + role=menuitemradio (works in .dropdown-menu and in your .p-1/.bc.p-1 panels) */
:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  :is([role="menuitem"], [role="menuitemradio"]).group {
  color: var(--text-color) !important;
  margin: 1px 0 !important;
  outline: none !important;
}

/* Hover / focus / active */
:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  :is([role="menuitem"], [role="menuitemradio"]).group:hover,
:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  :is([role="menuitem"], [role="menuitemradio"]).group:active,
:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  :is([role="menuitem"], [role="menuitemradio"]).group:focus,
:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  :is([role="menuitem"], [role="menuitemradio"]).group:focus-visible {
  background-color: var(--color-background) !important;
  color: var(--text-color) !important;
}

/* Selected / current states */
:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  [role="menuitemradio"].group[aria-checked="true"],
:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  [role="menuitem"].group[aria-current="true"],
:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  [role="menuitem"].group[aria-selected="true"] {
  background-color: var(--color-background) !important;
  color: var(--text-color) !important;
}

/* Radio dot matches text color */
:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  [role="menuitemradio"].group .bg-foreground {
  background-color: currentColor !important;
}

/* Icons inside menu items: override muted + inherit color */
:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  :is([role="menuitem"], [role="menuitemradio"]).group > span[aria-hidden="true"] {
  color: currentColor !important;
  opacity: 0.9;
}

:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  :is([role="menuitem"], [role="menuitemradio"]).group:hover > span[aria-hidden="true"],
:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  :is([role="menuitem"], [role="menuitemradio"]).group:focus > span[aria-hidden="true"],
:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  :is([role="menuitem"], [role="menuitemradio"]).group:focus-visible > span[aria-hidden="true"] {
  opacity: 1;
}

/* Ensure SVG strokes inherit everywhere */
:where(.dropdown-menu, .bc.p-1, .p-1, .rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-1)
  svg {
  stroke: currentColor !important;
  fill: none !important;
}

/* Collapsible section headers in the filter panel (role=button) */
:where(.bc.p-1, .p-1) [role="button"] {
  color: var(--text-color) !important; /* was text-muted-foreground; override to match */
  margin: 1px 0 !important;
  border-radius: 6px;
}

:where(.bc.p-1, .p-1) [role="button"]:hover,
:where(.bc.p-1, .p-1) [role="button"]:active,
:where(.bc.p-1, .p-1) [role="button"]:focus,
:where(.bc.p-1, .p-1) [role="button"]:focus-visible {
  background-color: var(--color-background) !important;
  color: var(--text-color) !important;
  outline: none !important;
}

/* Decks / Groups subtitles (non-clickable headings) */
:where(.bc.p-1, .p-1) .text-sm.text-muted-foreground.px-2.py-1 {
  color: var(--text-color) !important;
}

/* “Reset filters” (clickable text row) */
:where(.bc.p-1, .p-1) .text-sm.text-muted-foreground.cursor-pointer {
  color: var(--text-color) !important;
  border-radius: 6px;
  padding-top: 6px;
  padding-bottom: 6px;
}

:where(.bc.p-1, .p-1) .text-sm.text-muted-foreground.cursor-pointer:hover,
:where(.bc.p-1, .p-1) .text-sm.text-muted-foreground.cursor-pointer:focus,
:where(.bc.p-1, .p-1) .text-sm.text-muted-foreground.cursor-pointer:focus-visible {
  background-color: var(--color-background) !important;
  outline: none !important;
}

/* =========================================================
   Combobox / search popover (the 350px listbox)
   Force background to --background (as requested)
   ========================================================= */
:where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground):not(.p-1) {
  background-color: var(--background) !important;
  color: var(--text-color) !important;
  border-color: var(--border-color, var(--border-border, var(--border))) !important;
}

/* Options in the listbox */
:where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground)
  [role="option"].group {
  color: var(--text-color) !important;
  margin: 1px 0 !important;
  outline: none !important;
}

:where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground)
  [role="option"].group:hover,
:where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground)
  [role="option"].group:active,
:where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground)
  [role="option"].group:focus,
:where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground)
  [role="option"].group:focus-visible {
  background-color: var(--color-background) !important;
  color: var(--text-color) !important;
}

/* If option text uses text-muted-foreground, force it to match */
:where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground)
  [role="option"] .text-muted-foreground {
  color: var(--text-color) !important;
}

/* Combobox header icon inherits text color */
:where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground)
  .text-muted-foreground svg {
  stroke: currentColor !important;
}


/* targets the inner dot only, assuming your structure stays the same */
.tickbox > span {
  background-color: var(--foreground) !important;
}


.sprout .small-card .text-sm {
    min-height: 22px;
}

.sprout .sprout-ana-card .text-sm {
    min-height: 22px;
}

.sprout-ana-card .text-2xl {
  min-height: 30px;;
}


/* Ensure session card header is relative for quit button positioning */
.bc-session-card > header,
.sprout-session-card > header {
  position: relative !important;
}
@media (hover: hover) {
  .sprout .table tr:hover {
    background-color: var(--color-background) !important;
  }
}
/* Stretch only analytics chart cards in grid rows to match tallest sibling */
.sprout-analytics-chart-card.sprout-ana-card {
  height: 100%;
  display: flex;
  flex-direction: column;
}
/* Consistent fixed height for all analytics charts */
.sprout-analytics-chart {
  height: 250px;
  min-height: 250px;
  max-height: 250px;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding-top: 8px;
  padding-bottom: 0;
  box-sizing: border-box;
}
.bc-io-host[data-sprout-io-widget="1"] {
  overflow: hidden !important;
}
.sprout .button-group[data-tooltip="Timer controls"] .btn-outline {
  background: transparent !important;
  transition: background 0.15s;
}
.sprout .button-group[data-tooltip="Timer controls"] .btn-outline:hover,
.sprout .button-group[data-tooltip="Timer controls"] .btn-outline:focus-visible,
.sprout .button-group[data-tooltip="Timer controls"] .btn-outline:active {
  background: var(--accent) !important;
  color: var(--accent-foreground) !important;
}
/* Ensure modal-content includes padding in width to prevent horizontal scrollbar */
.modal-content {
  box-sizing: border-box !important;
}
/* Ensure child modal-content never exceeds parent width (including padding) */
.sprout-modals > .modal-content {
  box-sizing: border-box !important;
  max-width: 100vw !important;
  width: 100% !important;
  overflow-x: auto !important;
}
/* Set max-width of child modal inside IO Modal to 650px */
.sprout-io-creator .modal-content {
  max-width: 650px !important;
}
/* Make Hide All and Hide One buttons black */
.btn-outline[data-tooltip="Hide All"],
.btn-outline[data-tooltip="Hide One"] {
  background: #111 !important;
  color: #fff !important;
  border-color: #111 !important;
}

/* Allow tooltips to overflow outside the modal */
[data-tooltip] {
  overflow: visible !important;
  z-index: 10001;
}
.modal-content, .modal-content * {
  overflow: visible !important;
}
/* Sprout IO Toolbar: Remove padding and border */
[role="toolbar"][data-sprout-toolbar="1"] {
  padding: 0 !important;
  border: none !important;
}
.sprout-session-card .sprout-session-header-row {
  display: flex;
  align-items: flex-start;
  position: relative;
}
.sprout-session-card .sprout-session-header-row .sprout-quit-btn {
  margin-left: auto;
  margin-top: 10px;
}
/* Add 35px padding from edge for quit button in session card */
.bc-session-card > .absolute[data-tooltip="Quit study session (Q)"] {
  top: 35px !important;
  right: 35px !important;
}
/* Ensure group select popover is never transparent */
.sprout-group-select-popover {
  background: var(--background, #fff) !important;
  background-color: var(--background, #fff) !important;
}
/* ===== Browser.ts popover menu hover/focus/active color overrides ===== */
:where(.sprout) ::selection {
  background-color: var(--theme-accent) !important;
  color: #fff !important;
}
:where(.sprout) ::-moz-selection {
  background-color: var(--theme-accent) !important;
  color: #fff !important;
}

:where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-0)
  :is([role="menuitemcheckbox"], [role="menuitemradio"], [role="menuitem"]).group:hover,
:where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-0)
  :is([role="menuitemcheckbox"], [role="menuitemradio"], [role="menuitem"]).group:focus,
:where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-0)
  :is([role="menuitemcheckbox"], [role="menuitemradio"], [role="menuitem"]).group:active,
:where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-0)
  :is([role="menuitemcheckbox"], [role="menuitemradio"], [role="menuitem"]).group:focus-visible {
  background-color: var(--accent) !important;
  color: var(--accent-foreground) !important;
}

.theme-dark :where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-0)
  :is([role="menuitemcheckbox"], [role="menuitemradio"], [role="menuitem"]).group:hover,
.theme-dark :where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-0)
  :is([role="menuitemcheckbox"], [role="menuitemradio"], [role="menuitem"]).group:focus,
.theme-dark :where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-0)
  :is([role="menuitemcheckbox"], [role="menuitemradio"], [role="menuitem"]).group:active,
.theme-dark :where(.rounded-lg.border.border-border.bg-popover.text-popover-foreground.p-0)
  :is([role="menuitemcheckbox"], [role="menuitemradio"], [role="menuitem"]).group:focus-visible {
  background-color: #23272e !important;
  color: var(--accent-foreground, #fff) !important;
}
/* Force GitHub star to use accent color for fill */
.sprout-github-stars-star svg {
  fill: var(--theme-accent) !important;
  color: var(--theme-accent) !important;
}
/* Spin the GitHub star on hover */
.sprout-github-stars:hover .sprout-github-stars-star {
  transition: transform 0.6s cubic-bezier(0.4,0.2,0.2,1);
  transform: rotate(360deg);
}

/* Rotate the coffee icon 30deg counterclockwise on hover */
.sprout-bmc:hover .sprout-bmc-icon {
  transition: transform 0.3s cubic-bezier(0.4,0.2,0.2,1);
  transform: rotate(-30deg);
}
/* Custom badge style for analytics and other uses */
/* Cloze styling */
.sprout-pretty-card.accent .sprout-cloze {
  background-color: hsl(var(--accent-h), var(--accent-s), var(--accent-l), .12);
  border-radius: 6px;
  margin: 0 0px;
  padding: 1.5px 6px;
  -webkit-box-decoration-break: clone;
  box-decoration-break: clone;
}
.sprout-pretty-card.theme .sprout-cloze {
  background-color: var(--alt-accent-color);
  border-radius: 6px;
  margin: 0 0px;
  padding: 1.5px 6px;
  -webkit-box-decoration-break: clone;
  box-decoration-break: clone;
}
.sprout-pretty-card.accent .sprout-cloze-text {
  font-weight: 500;
  color: hsl(var(--accent-h), var(--accent-s), var(--accent-l));
}
.sprout-pretty-card.theme .sprout-cloze-text {
  font-weight: 500;
  color: var(--color);
}

/* Browser table header: selected/ordered column uses --foreground */
.sprout-browser-header-active {
  color: var(--foreground) !important;
}

/* Place chevron beside the word, not floated right */
.sprout-browser-header-cell .sprout-browser-header-icon {
  margin-left: 10px !important;
  margin-right: 0 !important;
  position: static !important;
  opacity: 1 !important;
  vertical-align: middle;
  flex-shrink: 0;
  transition: opacity 0.2s, transform 0.2s;
}
.sprout-browser-header-cell .items-center {
  flex-direction: row !important;
  justify-content: flex-start !important;
  gap: 10px !important;
}
/* Changelog + analytics stats tables (match browser table feel) */
.sprout-toggle-btn {
  box-shadow: none !important;
  background: none !important;
  padding: 0 !important;
  margin: 0;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  /* Remove width restriction to avoid SVG clipping */
}

/* Ensure chevron SVG is visible and sized correctly */
.sprout-toggle-chevron {
  width: 1em;
  height: 1em;
  color: inherit;
  display: inline-block;
  vertical-align: middle;
}
.sprout-toggle-btn:hover,
.sprout-toggle-btn:active,
.sprout-toggle-btn:focus {
  background: none !important;
}

/* Style for revealed extra information text */
.sprout-info {
    color: var(--text-color);
    opacity: 0.9;
    font-size: 0.8rem;
    line-height: 1.9;
}
.sprout-changelog-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  border: none;
  border-radius: 0;
  overflow: visible;
  background: var(--background);
}

/* Changelog wrapper: padding + border so scroll stays inside */
.sprout .sprout-changelog-scroll {
  padding: 8px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  max-height: 165px;
  overflow-y: auto;
  overflow-x: hidden;
  background: var(--background);
}

/* Analytics table wrapper: padding + border so scroll stays inside */
.sprout .sprout-analytics-table-wrap {
  padding: 8px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  overflow: auto;
  background: var(--background);
}
.sprout-changelog-table thead tr {
  background: var(--background);
  border-bottom: 1px solid var(--background-modifier-border);
}
.sprout-changelog-table tbody tr {
  background: var(--background);
}
.sprout-changelog-table th,
.sprout-changelog-table td,
.sprout-changelog-cell {
  padding: 8px 10px;
  border: none;
  vertical-align: top;
}
.sprout-changelog-table tbody td {
  background: inherit;
  border: none;
}
.sprout-changelog-table tbody td:first-child {
  border-left: none;
}
.sprout-changelog-table tbody td:last-child {
  border-right: none;
}

/* Add a single border below the header (top of tbody) */
.sprout-changelog-table tbody {
  border-top: 1px solid var(--background-modifier-border);
}
.sprout-changelog-table th:first-child,
.sprout-changelog-table td:first-child {
  border-top-left-radius: 10px;
  border-bottom-left-radius: 10px;
}

.sprout-changelog-table th:last-child,
.sprout-changelog-table td:last-child {
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
}
.sprout-changelog-table th {
  color: var(--text-color);
  font-weight: 600;
  text-align: left;
}
.sprout-changelog-table td,
.sprout-changelog-cell {
  color: var(--text-muted);
}
.sprout-changelog-table th:last-child,
.sprout-changelog-table td:last-child {
  white-space: normal;
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* Row hover: single rounded rectangle */
.sprout .sprout-changelog-table tbody tr:hover {
  background-color: var(--color-background) !important;
}
.sprout .sprout-changelog-table tbody tr:hover td {
  background-color: var(--color-background) !important;
  border-color: var(--background-modifier-border) !important;
}
.sprout .sprout-changelog-table tbody tr:hover td:first-child {
  border-top-left-radius: 8px;
  border-bottom-left-radius: 8px;
}
.sprout .sprout-changelog-table tbody tr:hover td:last-child {
  border-top-right-radius: 8px;
  border-bottom-right-radius: 8px;
}

/* Analytics table: keep hover radius on cells; wrapper handles border */
.sprout .sprout-analytics-root .table {
  border: none;
  border-radius: 0;
  overflow: visible;
  border-collapse: separate;
  border-spacing: 0;
}
.sprout .sprout-analytics-root .table tbody tr:hover td:first-child {
  border-top-left-radius: 8px;
  border-bottom-left-radius: 8px;
}
.sprout .sprout-analytics-root .table tbody tr:hover td:last-child {
  border-top-right-radius: 8px;
  border-bottom-right-radius: 8px;
}

.sprout .hidden-cloze {
  border-bottom: 1px solid var(--foreground) !important;
  display: inline-block !important;
  min-height: 1em !important;
  margin-left: 0 !important;
  margin-right: 4px !important;
  border-radius: 0px !important;
}

/* MathJax: remove block margins inside Sprout cards/widgets */
.sprout .sprout-session-card mjx-container[jax="CHTML"][display="true"],
.sprout .sprout-widget mjx-container[jax="CHTML"][display="true"] {
  margin: 0 !important;
}

/* Pretty cards: remove paragraph + block math margins */
.sprout .sprout-pretty-card p {
  margin-block-start: 0 !important;
  margin-block-end: 0 !important;
}

.sprout .sprout-pretty-card mjx-container[jax="CHTML"][display="true"],
.sprout .sprout-pretty-card mjx-container[jax="CHTML"],
.sprout .sprout-pretty-card mjx-math[display="true"],
.sprout .sprout-pretty-card .MathJax,
.sprout .sprout-pretty-card .MJX-TEX {
  margin: 0 !important;
  margin-block-start: 0 !important;
  margin-block-end: 0 !important;
}




/* =========================
   Updated Sprout Card CSS — styled to match image callouts
   Add to your Obsidian CSS snippets
   ========================= */

/* Masonry wrapper for cards (unchanged layout, tightened spacing) */
.sprout-masonry-grid-wrapper {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  align-items: flex-start;
  margin: 20px 0;
  width: 100%;
  box-sizing: border-box;
  break-inside: avoid;
  page-break-inside: avoid;
}

/* Card sizing */
.sprout-masonry-grid-wrapper > .sprout-pretty-card {
  flex: 1 1 300px;
  max-width: 400px;
  margin: 0;
}

/* Card surface: accent-tinted background + subtle accent border (matches image callouts) */
/* Accent style (default) */
.sprout-pretty-card.accent {
  border-radius: 6px;
  padding: 12px 12px 15px 12px;
  box-shadow: none;
  box-sizing: border-box;
  margin-top: 20px;
  margin-bottom: 20px;
  break-inside: avoid;
  page-break-inside: avoid;

  /* Use Obsidian accent variables to match callouts */
  background-color: hsl(var(--accent-h), var(--accent-s), var(--accent-l), 0.06);
  border: 1px solid hsl(var(--accent-h), var(--accent-s), var(--accent-l), 0.22);
  overflow: visible;
}

/* Theme style (uses background/text/alt accent colors) */
.sprout-pretty-card.theme {
  border-radius: 6px;
  padding: 12px 12px 15px 12px;
  box-shadow: none;
  box-sizing: border-box;
  margin-top: 20px;
  margin-bottom: 20px;
  break-inside: avoid;
  page-break-inside: avoid;

  background-color: var(--background-primary) !important;
  color: var(--color);
  border: 1px solid var(--alt-accent-color);
  overflow: visible;
}

/* Header layout */
/* Card header */
.sprout-pretty-card.accent .sprout-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}
.sprout-pretty-card.theme .sprout-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

/* Reading view edit icon (pencil) — no button chrome, opacity hover */
.sprout .sprout-card-edit-btn {
  background: transparent !important;
  background-color: transparent !important;
  border: none !important;
  border-color: transparent !important;
  appearance: none !important;
  -webkit-appearance: none !important;
  padding: 0 !important;
  margin: 0 !important;
  box-shadow: none !important;
  outline: none !important;
  outline-color: transparent !important;
  text-decoration: none !important;
  filter: none !important;
  border-radius: 0 !important;
  transition: opacity 0.15s !important;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--text-muted);
  opacity: 0.7;
}

.sprout .sprout-card-edit-btn:focus,
.sprout .sprout-card-edit-btn:focus-visible {
  outline: none !important;
  box-shadow: none !important;
  background: transparent !important;
  background-color: transparent !important;
  border-color: transparent !important;
}

/* Force Sprout custom buttons to override global button rules */
.sprout :is(button.sprout-card-edit-btn, .sprout-widget button, .sprout-widget .btn, .sprout-widget .btn-outline) {
  box-shadow: none !important;
  outline: none !important;
  background-color: var(--background) !important;
  border-radius: var(--button-radius) !important;
}

.sprout :is(.sprout-widget button, .sprout-widget .btn, .sprout-widget .btn-outline) {
  background-color: var(--background) !important;
  border: 1px solid var(--border) !important;
}

.sprout-card-edit-btn {
  opacity: 0.7;
  cursor: pointer;
}
.sprout-card-edit-btn svg {
  width: 12.8px;
  height: 12.8px;
}

/* Pretty card paragraphs: zero vertical margins inside cards */
.sprout .sprout-pretty-card p,
.sprout .sprout-pretty-card .markdown-rendered p,
.sprout .sprout-pretty-card.markdown-rendered p,
.sprout .sprout-pretty-card .sprout-card-content p,
.sprout .sprout-pretty-card .sprout-card-section p {
  margin-block-start: 0 !important;
  margin-block-end: 0 !important;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

.sprout-card-edit-btn:hover {
  opacity: 0.9;
}

.sprout-card-edit-btn:focus,
.sprout-card-edit-btn:focus-visible,
.sprout-card-edit-btn:active {
  opacity: 1;
}

/* Title: bolder, uppercase-ish like a caption; includes an "info" icon using mask */
/* Card title */
.sprout-pretty-card.accent .sprout-card-title {
  font-size: 0.8rem;
  font-weight: 700;
  line-height: 1.4;
  color: hsl(var(--accent-h), var(--accent-s), var(--accent-l));
  display: inline-flex;
  align-items: center;
  gap: 6px;
}
.sprout-pretty-card.theme .sprout-card-title {
  font-size: 0.8rem;
  font-weight: 700;
  line-height: 1.4;
  color: var(--color);
  display: inline-flex;
  align-items: center;
  gap: 6px;
}


/* Meta area (id pill + edit button) */
.sprout-card-meta {
  display: flex;
  align-items: center;
  gap: 8px;
}
/* Card meta */
.sprout-pretty-card.accent .sprout-card-meta,
.sprout-pretty-card.theme .sprout-card-meta {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* ID pill matches muted style but uses accent for contrast */
.sprout-card-id {
  font-size: 0.8rem;
  font-weight: 500;
  opacity: 1;
  color: hsl(var(--accent-h),var(--accent-s),var(--accent-l));
/* Card ID */
.sprout-pretty-card.accent .sprout-card-id {
  color: hsl(var(--accent-h),var(--accent-s),var(--accent-l));
}
.sprout-pretty-card.theme .sprout-card-id {
  color: var(--color);
}
.sprout-pretty-card.accent .sprout-card-id::before,
.sprout-pretty-card.theme .sprout-card-id::before {
  content: "#";
  position: relative;
  left: 2px;
  font-weight: 400;
}
}

.sprout-card-id::before {
    content: "#";
    position: relative;
    left: 2px;
    font-weight: 400;
}
/* Edit button — subtle, consistent with pill */
/* Edit button */
.sprout-pretty-card.accent .sprout-edit-btn,
.sprout-pretty-card.theme .sprout-edit-btn {
  font-size: 0.8rem;
  font-weight: 500;
  padding: 5px 10px;
  border-radius: 7px;
  cursor: pointer;
  background: transparent;
  border: 1px solid rgba(0,0,0,0.06);
}

/* Card body typography */
/* Card section */
.sprout-pretty-card.accent .sprout-card-section,
.sprout-pretty-card.theme .sprout-card-section {
  margin-bottom: 0px;
}

/* Section label */
.sprout-pretty-card.accent .sprout-section-label,
.sprout-pretty-card.theme .sprout-section-label {
  opacity: 0.9;
  margin-top: .5em;
  font-size: 0.8rem;
  font-weight: 500;
}

/* Section content */
.sprout-pretty-card.accent .sprout-section-content {
  font-size: 0.8rem;
  font-weight: 400;
  line-height: 1.9;
  color: var(--text-normal);
}
.sprout-pretty-card.theme .sprout-section-content {
  font-size: 0.8rem;
  font-weight: 400;
  line-height: 1.9;
  color: var(--color);
}
.sprout-pretty-card.theme .sprout-info {
  font-size: 0.8rem;
  color: var(--color);
}

/* Cloze styling — pill-like highlight using accent */
.sprout-cloze {
  background-color: hsl(var(--accent-h), var(--accent-s), var(--accent-l), .12);
    border-radius: 6px;
    margin: 0 0px;
    padding: 1.5px 6px;
     -webkit-box-decoration-break: clone;        /* Chrome/Safari */
  box-decoration-break: clone;   
}

.sprout-cloze-text {
  font-weight: 500;
  color: hsl(var(--accent-h), var(--accent-s), var(--accent-l));
}

/* Muted text */
/* Muted text */
.sprout-pretty-card.accent .sprout-text-muted {
  opacity: 0.9;
  color: var(--text-color);
}
.sprout-pretty-card.theme .sprout-text-muted {
  opacity: 0.9;
  color: var(--color);
}

/* Answers and IO area */
/* Answers and IO area */
.sprout-pretty-card.accent .sprout-answer {
  color: var(--text-color);
  opacity: 0.9;
  font-size: 0.8rem;
  line-height: 1.9;
}
.sprout-pretty-card.theme .sprout-answer {
  color: var(--color);
  opacity: 0.9;
  font-size: 0.8rem;
  line-height: 1.9;
}

/* IO Card */
/* IO Card */
.sprout-pretty-card.accent .sprout-section-io .sprout-section-content {
  padding: 18px;
  border: 1px dashed rgba(0,0,0,0.06);
  border-radius: 6px;
  text-align: center;
}
.sprout-pretty-card.theme .sprout-section-io .sprout-section-content {
  padding: 18px;
  border: 1px dashed var(--alt-accent-color);
  border-radius: 6px;
  text-align: center;
}

/* Tags: smaller, subdued */
/* Tags: smaller, subdued */
.sprout-pretty-card.accent .sprout-tags-list {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 0;
}
.sprout-pretty-card.theme .sprout-tags-list {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 0;
}
.sprout-pretty-card.accent .sprout-tags-list span {
  font-size: 0.8rem;
  opacity: 0.76;
  padding: 2px 6px;
  border-radius: 6px;
  background: rgba(0,0,0,0.02);
}
.sprout-pretty-card.theme .sprout-tags-list span {
  font-size: 0.8rem;
  opacity: 0.76;
  padding: 2px 6px;
  border-radius: 6px;
  background: var(--background);
}

/* Hide original content (keeps existing behaviour) */
/* Hide original content (keeps existing behaviour) */
.sprout-pretty-card.accent .sprout-original-content,
.sprout-pretty-card.theme .sprout-original-content {
  display: none;
}

/* Make sure the card size behaves similar to image-callouts */
.sprout-pretty-card,
.sprout-pretty-card figure,
.sprout-pretty-card img {
  width: 100%;
  max-width: 400px;
  box-sizing: border-box;
}

/* Responsive: allow full width on narrow screens */
@media (max-width: 520px) {
  .sprout-masonry-grid-wrapper > .sprout-pretty-card {
    flex-basis: 100%;
    max-width: 100%;
  }
}

.sprout-info br {
    margin-bottom: 0.5em !important;
}

.sprout-reading-view-cloze {
  background-color: hsl(var(--accent-h), var(--accent-s), var(--accent-l), .12);
  border-radius: 6px;
  margin: 0 0px;
  padding: 1px 4px;
  -webkit-box-decoration-break: clone;
  box-decoration-break: clone;
}

.sprout-reading-view-cloze-text {
  font-weight: 500;
  color: hsl(var(--accent-h), var(--accent-s), var(--accent-l));
}

/* Internal links in reading view cards */
.sprout-pretty-card a.internal-link {
  color: var(--link-color);
  text-decoration: none;
  cursor: pointer;
}

.sprout-pretty-card a.internal-link:hover {
  color: var(--link-color-hover);
  text-decoration: underline;
}



/* Flexbox masonry grid - JS creates columns, CSS handles card sizing */
.sprout-masonry-grid-wrapper {
  width: 100% !important;
  margin-bottom: 1.5rem !important;
}

.sprout-masonry-grid {
  display: flex !important;
  gap: 16px !important;
  align-items: flex-start !important;
}

.sprout-masonry-col {
  flex: 1 !important;
  min-width: 0 !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 16px !important;
}

/* Cards inside columns fill the width */
.sprout-masonry-col > .sprout-pretty-card {
  width: 100% !important;
  flex-shrink: 0 !important;
  box-sizing: border-box !important;
  margin-bottom: 0 !important;
}

/* Last card in grid should have bottom margin */
.sprout-masonry-grid-wrapper:last-child {
  margin-bottom: 20px !important;
}

/* Content wrapping */
.sprout-pretty-card,
.sprout-reading-card,
.sprout-card-content,
.sprout-card-section,
.sprout-info {
  box-sizing: border-box !important;
  max-width: 100% !important;
  min-width: 0 !important;
  overflow-wrap: break-word !important;
  word-break: break-word !important;
  white-space: normal !important;
}

.sprout-header {
    border: none !important;
    border-radius: 0px !important;
}

.workspace-leaf-content.sprout {
    border-radius: 0px !important;
    border: none !important;
}




.sprout .text-xs {
  font-size: 0.85rem !important;}
.sprout .text-sm {
  font-size: 0.85rem !important;
}

.sprout {
--font-ui-small: 0.85rem;
}

.sprout .text-md {font-size: 0.9rem !important;}
.sprout .text-lg {font-size: 1rem !important;}
.sprout .text-xl {font-size: 1.25rem !important;}
.sprout .text-2xl {font-size: 1.5rem !important;}

.sprout button[aria-current=page] {
  border-radius: 6px !important;
  border: 0.5px solid var(--border) !important;
}